$(function(){function n(n){$(".page").on("mousedown touchstart",function(n){"touchstart"==n.type?t=window.event.touches[0].pageY:(t=n.Y||n.pageY,f=!0),s=t}),$(".page").on("mousemove touchmove",function(n){if(n.preventDefault(),n.stopPropagation(),(c||r)&&(r=!0,"touchmove"==n.type?i=window.event.touches[0].pageY:f&&(i=n.Y||n.pageY),g=1!=o),i&&r){if(!p)if(p=!0,m=i-t>0)g?(u=o-1,$(".page").eq(u-1).addClass("active").css("top",-v),l=!0):h?(l=!0,u=a,$(".page").eq(u-1).addClass("active").css("top",-v)):l=!1;else{if(o==a)return void(l=!1);u=o+1,$(".page").eq(u-1).addClass("active").css("top",v),l=!0}if(d)i=null;else if(l){c=!1;var e=parseInt($(".page").eq(u-1).css("top"));$(".page").eq(u-1).css({top:e+i-t}),t=i}else i=null}}),$(".page").on("mouseup touchend mouseout",function(n){r=null,p=!1;var e;e=m?i-s>100:s-i>100,l&&(e&&Math.abs(i)>5?$(".page").eq(u-1).animate({top:0},300,"easeOutSine",function(){!function(){var n=$(".page").eq(u-1);$(".page").eq(o-1).removeClass("show active").addClass("hide"),n.removeClass("active hide").addClass("show"),o=u,c=!0,$(".page").each(function(n,e){$(".next-page").toggle(n!==o-1)})}()}):Math.abs(i)>=5&&(m?$(".page").eq(u-1).animate({top:-v},100,"easeOutSine"):$(".page").eq(u-1).animate({top:v},100,"easeOutSine"),$(".page").eq(u-1).removeClass("active"),c=!0)),t=null,i=null,s=null,f=null})}var e={loadImages:function(n,e){for(var a,o=0,t={},i=(n=n||[]).length,s=0;s<i;s++){var u=n[s];a="./images/"+u,t[u]=new Image,t[u].onload=function(){o++,e(parseInt(o),parseInt(i),parseFloat(parseInt(o)/parseInt(i),2))},t[u].onerror=function(){},t[u].src=a}}},a=$(".page").size(),o=1,t=null,i=null,s=null,u=1,p=null,g=null,l=null,c=!0,r=null,m=null,d=!1,h=!1,f=null,v=null;!function(){!function(){if("BackCompat"==document.compatMode)n=document.body;else var n=document.documentElement;Math.max(n.scrollWidth,n.clientWidth)}();var n=function(){if("BackCompat"==document.compatMode)n=document.body;else var n=document.documentElement;return Math.max(n.scrollHeight,n.clientHeight)}(),e=$(".m-page").height();v=n>=e?n:e}(),n();var w=["caojinhua.png","chenyan.png","guweijia.png","chenjibo.png","fanling.png","lixin.png","jiangxiao.png","huangshenshang.png"];w=w.concat(["yufeng.png","ciensi.png","chenxinxin.png","yinjuan.png","suixinyuan.png","shenlei.png","luoting.png","juping.png","gaoyan.png"],["home-bg1.png","home-body.png","home-btn.png","home-logo.png","home-logo-footer.png","home-title.png"],["icon-suning.png","icon-ued.png","intro-title-icon.png"],["next-page.png","page-bg1.png","page-bg2.png","q-cord.png"],["signup-success-icon.png","tyjb-bg.png","tyjb-people.png","huigu.png"]);var y=$(".page-loading"),b=$(".page-home"),q=$(".next-page");e.loadImages(w,function(n,e,a){1==a&&(y.hide(),b.show(),q.show())}),$(".go-signup").off("click").on("click",function(){!function(n){$(".page").eq(u-1).removeClass("show active").addClass("hide"),$(".page").eq(n).removeClass("hide").addClass("show"),u=n+1,o=n+1,$(".page").each(function(n,e){$(".next-page").toggle(n!==o-1)})}(13)})}),$(function(){function n(){setTimeout(function(){$(".error-info").animate({display:"none"},"slow")},1500)}function e(e){if(!/^1[345789]\d{9}$/.test(e=e))return n(),!1}$(".page-signup-btn").off("click").on("click",function(){var a=$(".error-info");if(""==$(".signup-name").val())return a.show().text("请填写姓名"),n(),!1;if(""==$(".signup-company").val())return a.show().text("请填写公司/工号"),n(),!1;if(""==$(".signup-duty").val())return a.show().text("请填写职务"),n(),!1;if(!1===e($(".signup-phoneNum").val()))return a.show().text("手机号码有误，请重填"),!1;if(!1===function(e){if(!/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(e))return n(),!1}($(".signup-email").val()))return a.show().text("邮箱有误，请重填"),!1;var o=JSON.stringify({root:[{name:"公司",value:$(".signup-company").val()},{name:"邮箱",value:$(".signup-email").val()},{name:"职务",value:$(".signup-duty").val()},{name:"工号",value:$(".signup-num").val()}]}),t={activityId:390,name:$(".signup-name").val(),mobileNumber:$(".signup-phoneNum").val(),jsonField:o};$.ajax({type:"get",url:"http://qrs.suning.com/qrs-web/activityqrcode/signupForJsonp.htm",dataType:"jsonp",data:t,success:function(n){$(".do-signup").hide(),$(".page-signup-success").show()},error:function(n){$(".do-signup").hide(),$(".page-signup-success").show()}})})});